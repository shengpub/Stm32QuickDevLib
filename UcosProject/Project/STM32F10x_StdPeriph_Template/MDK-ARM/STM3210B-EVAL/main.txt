; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\stm3210b-eval\main.o --asm_dir=.\STM3210B-EVAL\ --list_dir=.\STM3210B-EVAL\ --depend=.\stm3210b-eval\main.d --cpu=Cortex-M3 --apcs=interwork -O3 --diag_suppress=9931 -I..\ -I..\..\..\Libraries\CMSIS\CM3\CoreSupport -I..\..\..\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x -I..\..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\..\Utilities\STM32_EVAL -I..\..\..\Utilities\STM32_EVAL\STM3210B_EVAL -I..\..\..\Utilities\STM32_EVAL\Common -I..\Bsp -I..\MQTT -IC:\Users\gavinX\Desktop\GetWifiInfo\Project\STM32F10x_StdPeriph_Template\MDK-ARM\RTE\_STM32Project -Ie:\Keil_v5\ARM\PACK\Keil\STM32F1xx_DFP\1.1.0\Device\Include -Ie:\Keil_v5\ARM\CMSIS\Include -D__MICROLIB -D__UVISION_VERSION=522 -DSTM32F10X_HD -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER --omf_browse=.\stm3210b-eval\main.crf ..\main.c]
                          THUMB

                          AREA ||i.SYSClockInit||, CODE, READONLY, ALIGN=1

                  SYSClockInit PROC
;;;40     
;;;41     void SYSClockInit()
000000  b510              PUSH     {r4,lr}
;;;42     {
;;;43     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA,ENABLE);	//打开相应的时钟
000002  2101              MOVS     r1,#1
000004  2004              MOVS     r0,#4
000006  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;44     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB,ENABLE);	//使用外部中断
00000a  2101              MOVS     r1,#1
00000c  2008              MOVS     r0,#8
00000e  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;45     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC,ENABLE);	//打开c端口的时钟
000012  2101              MOVS     r1,#1
000014  2010              MOVS     r0,#0x10
000016  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;46     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOD,ENABLE);	//打开c端口的时钟
00001a  2101              MOVS     r1,#1
00001c  2020              MOVS     r0,#0x20
00001e  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;47     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOE,ENABLE);	//打开c端口的时钟
000022  2101              MOVS     r1,#1
000024  2040              MOVS     r0,#0x40
000026  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;48     	
;;;49     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1,ENABLE);  //打开串口usart
00002a  2101              MOVS     r1,#1
00002c  0388              LSLS     r0,r1,#14
00002e  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;50     	RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART2,ENABLE);
000032  2101              MOVS     r1,#1
000034  0448              LSLS     r0,r1,#17
000036  f7fffffe          BL       RCC_APB1PeriphClockCmd
;;;51     	
;;;52     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO,ENABLE);//端口复用功能
00003a  2101              MOVS     r1,#1
00003c  e8bd4010          POP      {r4,lr}
000040  4608              MOV      r0,r1
000042  f7ffbffe          B.W      RCC_APB2PeriphClockCmd
;;;53     }
;;;54     int main(void)
                          ENDP


                          AREA ||i.fputc||, CODE, READONLY, ALIGN=2

                  fputc PROC
;;;33     
;;;34     int fputc(int ch,FILE *f)
000000  b570              PUSH     {r4-r6,lr}
;;;35     {
;;;36     	USART_SendData(USART1,ch);
000002  4d07              LDR      r5,|L2.32|
000004  4604              MOV      r4,r0                 ;35
000006  b281              UXTH     r1,r0
000008  4628              MOV      r0,r5
00000a  f7fffffe          BL       USART_SendData
                  |L2.14|
;;;37     	while(USART_GetFlagStatus(USART1,USART_FLAG_TXE)!=SET);
00000e  2180              MOVS     r1,#0x80
000010  4628              MOV      r0,r5
000012  f7fffffe          BL       USART_GetFlagStatus
000016  2801              CMP      r0,#1
000018  d1f9              BNE      |L2.14|
;;;38     	return(ch);
00001a  4620              MOV      r0,r4
;;;39     }
00001c  bd70              POP      {r4-r6,pc}
;;;40     
                          ENDP

00001e  0000              DCW      0x0000
                  |L2.32|
                          DCD      0x40013800

                          AREA ||i.main||, CODE, READONLY, ALIGN=2

                  main PROC
;;;53     }
;;;54     int main(void)
000000  f5ad7d04          SUB      sp,sp,#0x210
;;;55     {	
;;;56     	
;;;57     	char buf[510];
;;;58     	uint16_t a;
;;;59     	SYSClockInit();
000004  f7fffffe          BL       SYSClockInit
;;;60     	SysTick_Init(1);				/*系统延时函数初始化*/
000008  2001              MOVS     r0,#1
00000a  f7fffffe          BL       SysTick_Init
;;;61     	
;;;62     	SysLedInit();
00000e  f7fffffe          BL       SysLedInit
;;;63     	SysGsmInit();						/*gsm模块初始化*/
000012  f7fffffe          BL       SysGsmInit
;;;64     	SwitchControlInit();		/*控制板卡初始化*/	
000016  f7fffffe          BL       SwitchControlInit
;;;65     	mdGsm.GsmLoginStep = 1;
00001a  490f              LDR      r1,|L3.88|
00001c  2001              MOVS     r0,#1
00001e  f881060c          STRB     r0,[r1,#0x60c]
;;;66     	LedOpen(LED1);
000022  f7fffffe          BL       LedOpen
;;;67     	SysDelayMs(2000);
000026  f44f60fa          MOV      r0,#0x7d0
00002a  f7fffffe          BL       SysDelayMs
;;;68     	LedClose(LED1);
00002e  2001              MOVS     r0,#1
000030  f7fffffe          BL       LedClose
;;;69     	while (1)
;;;70     	{
;;;71     		MQTTConnectServer(120,buf,&a,"123","123","123");
;;;72     		//SwitchControlDel();		/*控制器处理*/
;;;73     		GsmModeDel();					/*gsm模块通信处理任务*/
;;;74     		//ReadGsmPIN();
;;;75     		//SetGsmAte(0);
;;;76     		SysDelayMs(6000);
000034  f2417470          MOV      r4,#0x1770
                  |L3.56|
000038  a108              ADR      r1,|L3.92|
00003a  a008              ADR      r0,|L3.92|
00003c  e9cd0100          STRD     r0,r1,[sp,#0]         ;71
000040  a306              ADR      r3,|L3.92|
000042  aa82              ADD      r2,sp,#0x208          ;71
000044  a902              ADD      r1,sp,#8              ;71
000046  2078              MOVS     r0,#0x78              ;71
000048  f7fffffe          BL       MQTTConnectServer
00004c  f7fffffe          BL       GsmModeDel
000050  4620              MOV      r0,r4
000052  f7fffffe          BL       SysDelayMs
000056  e7ef              B        |L3.56|
;;;77     	}
;;;78     }
;;;79     
                          ENDP

                  |L3.88|
                          DCD      mdGsm
                  |L3.92|
00005c  31323300          DCB      "123",0

                  __ARM_use_no_argv EQU 0
